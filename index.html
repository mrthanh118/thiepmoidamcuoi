<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shop Thi·ªáp & ƒê·ªì C∆∞·ªõi</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; background: #fff0f5; margin: 0; padding: 0; }
    header { background: #ff69b4; color: white; padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; }
    nav { display: none; background: #ffc0cb; padding: 10px; position: sticky; top: 0; z-index: 10; }
    nav a { margin: 0 10px; color: #333; text-decoration: none; font-weight: bold; }
    .section { display: none; padding: 20px; }
    .active { display: block; }
    .card { background: #fff; padding: 20px; margin-bottom: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    input, textarea, select, button { width: 100%; padding: 10px; margin: 8px 0; border-radius: 5px; border: 1px solid #ccc; }
    button { background: #ff69b4; color: white; font-weight: bold; border: none; cursor: pointer; }
    #preview-thiep { border: 2px dashed #ccc; padding: 20px; margin-top: 15px; text-align: center; background: #fff; }
    .products, .rentals { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 15px; }
    .product-card img { width: 100%; height: 150px; object-fit: cover; border-radius: 6px; }
    .product-card { background: #fff; padding: 10px; border: 1px solid #ddd; border-radius: 8px; text-align: center; }
    .hidden { display: none; }
  </style>
</head>
<body>
<header>
  <h2>üíí Thi·ªáp C∆∞·ªõi & Shop Mini</h2>
  <button onclick="logout()" id="btnLogout" style="display:none;">ƒêƒÉng Xu·∫•t</button>
</header>
<nav id="main-nav">
  <a href="#" onclick="showSection('tao-thiep')">T·∫°o Thi·ªáp</a>
  <a href="#" onclick="showSection('mua-qua')">Mua Qu√†</a>
  <a href="#" onclick="showSection('thue-do')">Thu√™ ƒê·ªì</a>
  <a href="#" onclick="showSection('quan-ly-don')">ƒê∆°n H√†ng</a>
</nav>
<div class="section active" id="login-section">
  <div class="card">
    <h3>ƒêƒÉng Nh·∫≠p</h3>
    <input type="text" id="login-user" placeholder="T√™n ƒëƒÉng nh·∫≠p">
    <input type="password" id="login-pass" placeholder="M·∫≠t kh·∫©u">
    <button onclick="login()">ƒêƒÉng Nh·∫≠p</button>
    <p>Ch∆∞a c√≥ t√†i kho·∫£n? <a href="#" onclick="showSection('register')">ƒêƒÉng k√Ω</a></p>
  </div>
</div>
<div class="section" id="register">
  <div class="card">
    <h3>ƒêƒÉng K√Ω</h3>
    <input type="text" id="reg-user" placeholder="T√™n ƒëƒÉng nh·∫≠p">
    <input type="email" id="reg-email" placeholder="Email">
    <input type="password" id="reg-pass" placeholder="M·∫≠t kh·∫©u">
    <button onclick="register()">T·∫°o T√†i Kho·∫£n</button>
  </div>
</div>
<div class="section" id="tao-thiep">
  <div class="card">
    <h3>T·∫°o Thi·ªáp C∆∞·ªõi</h3>
    <input id="tenCoDau" placeholder="T√™n c√¥ d√¢u">
    <input id="tenChuRe" placeholder="T√™n ch√∫ r·ªÉ">
    <input id="diaDiem" placeholder="ƒê·ªãa ƒëi·ªÉm t·ªï ch·ª©c">
    <input id="ngayGio" type="datetime-local">
    <input id="tenKhachMoi" placeholder="K√≠nh m·ªùi">
    <select id="mauThiep">
      <option>H·ªìng</option>
      <option>Xanh</option>
      <option>V√†ng</option>
    </select>
    <select id="fontChu">
      <option value="Arial">Arial</option>
      <option value="Georgia">Georgia</option>
      <option value="Times New Roman">Times New Roman</option>
    </select>
    <input type="number" id="coChu" value="18" placeholder="C·ª° ch·ªØ (px)">
    <button onclick="taoThiep()">T·∫°o Thi·ªáp</button>
    <button onclick="taiThiep()">L∆∞u Thi·ªáp</button>
    <div id="preview-thiep"></div>
  </div>
</div>
<div class="section" id="mua-qua">
  <div class="card">
    <h3>S·∫£n ph·∫©m</h3>
    <div class="products" id="product-list"></div>
  </div>
</div>
<div class="section" id="thue-do">
  <div class="card">
    <h3>ƒê·ªì thu√™</h3>
    <div class="rentals" id="rental-list"></div>
  </div>
</div>
<div class="section" id="quan-ly-don">
  <div class="card">
    <h3>ƒê∆°n h√†ng c·ªßa b·∫°n</h3>
    <div id="order-list"></div>
  </div>
</div>
<script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
<script>
let currentUser = null;
const admin = { user: 'anhthanh', pass: '123456' };
function showSection(id) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}
function login() {
  const u = document.getElementById('login-user').value;
  const p = document.getElementById('login-pass').value;
  if ((u === admin.user && p === admin.pass) || getUsers().find(x => x.user === u && x.pass === p)) {
    currentUser = u;
    document.getElementById('main-nav').style.display = 'block';
    document.getElementById('btnLogout').style.display = 'inline';
    showSection('tao-thiep');
  } else alert('Sai th√¥ng tin');
}
function logout() {
  currentUser = null;
  document.getElementById('main-nav').style.display = 'none';
  document.getElementById('btnLogout').style.display = 'none';
  showSection('login-section');
}
function getUsers() {
  return JSON.parse(localStorage.getItem('users') || '[]');
}
function register() {
  const u = document.getElementById('reg-user').value;
  const e = document.getElementById('reg-email').value;
  const p = document.getElementById('reg-pass').value;
  const users = getUsers();
  if (users.find(x => x.user === u)) return alert('ƒê√£ t·ªìn t·∫°i');
  users.push({ user: u, email: e, pass: p });
  localStorage.setItem('users', JSON.stringify(users));
  alert('ƒêƒÉng k√Ω th√†nh c√¥ng');
  showSection('login-section');
}
function taoThiep() {
  const coDau = document.getElementById('tenCoDau').value;
  const chuRe = document.getElementById('tenChuRe').value;
  const diaDiem = document.getElementById('diaDiem').value;
  const ngay = document.getElementById('ngayGio').value;
  const khach = document.getElementById('tenKhachMoi').value;
  const mau = document.getElementById('mauThiep').value;
  const font = document.getElementById('fontChu').value;
  const size = document.getElementById('coChu').value;
  document.getElementById('preview-thiep').innerHTML = `
    <div style="font-family:${font}; font-size:${size}px; background:${mau.toLowerCase()}; padding:20px; border-radius:8px">
      <h2>Thi·ªáp M·ªùi</h2>
      <p>K√≠nh m·ªùi: ${khach}</p>
      <p>T·ªõi d·ª± l·ªÖ c∆∞·ªõi c·ªßa: ${coDau} & ${chuRe}</p>
      <p>ƒê·ªãa ƒëi·ªÉm: ${diaDiem}</p>
      <p>Th·ªùi gian: ${ngay}</p>
    </div>
  `;
}
function taiThiep() {
  html2canvas(document.getElementById('preview-thiep')).then(canvas => {
    const link = document.createElement('a');
    link.download = 'thiep-moi.png';
    link.href = canvas.toDataURL();
    link.click();
  });
}
</script>
</body>
</html>
