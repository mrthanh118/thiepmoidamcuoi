<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>áº¢nh Viá»‡n CÆ°á»›i NVT Group</title>
  <style>
    body { font-family: Arial, sans-serif; background: #fff0f5; margin: 0; padding: 0; }
    nav { background: #ffb6c1; padding: 10px; display: none; justify-content: space-around; position: sticky; top: 0; z-index: 10; }
    nav a { text-decoration: none; color: #333; font-weight: bold; }
    .section { padding: 20px; display: none; }
    .active { display: block; }
    input, textarea, select { width: 100%; padding: 8px; margin: 5px 0; border-radius: 4px; border: 1px solid #ccc; }
    button { padding: 10px 20px; background: #ff69b4; color: white; border: none; border-radius: 5px; cursor: pointer; margin-top: 10px; }
    .card { background: white; border-radius: 10px; padding: 20px; box-shadow: 0 0 10px rgba(0,0,0,0.1); margin-bottom: 20px; }
    .product, .rental { border: 1px solid #ddd; padding: 10px; border-radius: 8px; background: #fff; margin-bottom: 10px; }
    .center-text { text-align: center; font-style: italic; color: #d63384; font-size: 1.5em; margin-top: 20px; }
    .hidden { display: none; }
  </style>
</head>
<body>

<!-- ChÆ°a Ä‘Äƒng nháº­p -->
<div class="section active" id="welcome">
  <div class="center-text">áº¢nh Viá»‡n Ão CÆ°á»›i Nguyá»…n ThÃ nh - NVT Group</div>
  <div class="card">
    <h2>ÄÄƒng Nháº­p</h2>
    <input type="text" id="login-user" placeholder="TÃªn Ä‘Äƒng nháº­p">
    <input type="password" id="login-pass" placeholder="Máº­t kháº©u">
    <button onclick="dangNhap()">ÄÄƒng nháº­p</button>
  </div>
  <div class="card">
    <h2>ÄÄƒng KÃ½</h2>
    <input type="text" id="dk-user" placeholder="TÃªn Ä‘Äƒng nháº­p">
    <input type="password" id="dk-pass" placeholder="Máº­t kháº©u">
    <input type="text" id="dk-ten" placeholder="TÃªn thÃ nh viÃªn">
    <input type="text" id="dk-bank" placeholder="Sá»‘ tÃ i khoáº£n ngÃ¢n hÃ ng">
    <button onclick="dangKy()">ÄÄƒng kÃ½</button>
  </div>
</div>

<!-- Sau khi Ä‘Äƒng nháº­p -->
<nav id="main-nav">
  <a href="#" onclick="hien('home')">ğŸ  Trang chá»§</a>
  <a href="#" onclick="hien('tao-thiep')">ğŸ’Œ Thiá»‡p CÆ°á»›i</a>
  <a href="#" onclick="hien('mua-qua')">ğŸ Mua QuÃ </a>
  <a href="#" onclick="hien('thue-do')">ğŸ§¥ ThuÃª Äá»“</a>
  <a href="#" onclick="hien('don-hang')">ğŸ“¦ ÄÆ¡n HÃ ng</a>
  <a href="#" onclick="hien('gui-tien')">ğŸ’¸ Gá»­i Tiá»n Má»«ng</a>
  <a href="#" onclick="hien('ho-so')">ğŸ‘¤ Há»“ SÆ¡</a>
</nav>

<div class="section" id="home">
  <div class="card">
    <h2>ChÃ o má»«ng <span id="user-display"></span>!</h2>
    <p>ChÃºc báº¡n cÃ³ tráº£i nghiá»‡m tá»‘t!</p>
  </div>
</div>

<div class="section" id="tao-thiep">
  <div class="card">
    <h2>Táº¡o Thiá»‡p CÆ°á»›i</h2>
    <input id="chu-tren" placeholder="Thiá»‡p Má»i">
    <input id="ten-nam" placeholder="ChÃº Ráº»">
    <input id="ten-nu" placeholder="CÃ´ DÃ¢u">
    <input id="ten-khach-moi" placeholder="TÃªn khÃ¡ch má»i">
    <select id="font-style">
      <option value="normal">BÃ¬nh thÆ°á»ng</option>
      <option value="bold">Äáº­m</option>
      <option value="italic">NghiÃªng</option>
    </select>
    <input type="color" id="mau-chu">
    <button onclick="taoThiep()">Táº¡o Thiá»‡p</button>
    <div id="preview-thiep" style="margin-top:20px;"></div>
    <button onclick="taiAnh()">LÆ°u HÃ¬nh Thiá»‡p</button>
  </div>
</div>

<div class="section" id="mua-qua">
  <div class="card">
    <h2>Quáº£n LÃ½ Sáº£n Pháº©m</h2>
    <input type="file" onchange="taiAnhSanPham(event)">
    <input id="ten-sp" placeholder="TÃªn sáº£n pháº©m">
    <input id="gia-sp" placeholder="GiÃ¡">
    <button onclick="themSanPham()">ThÃªm</button>
    <div id="danh-sach-sp"></div>
  </div>
</div>

<div class="section" id="thue-do">
  <div class="card">
    <h2>ThuÃª Äá»“</h2>
    <p>Chá»©c nÄƒng tÆ°Æ¡ng tá»± "Mua QuÃ ".</p>
  </div>
</div>

<div class="section" id="don-hang">
  <div class="card">
    <h2>ÄÆ¡n HÃ ng</h2>
    <div id="don-hang-view"></div>
  </div>
</div>

<div class="section" id="gui-tien">
  <div class="card">
    <h2>Gá»­i Tiá»n Má»«ng</h2>
    <input placeholder="TÃªn ngÆ°á»i gá»­i">
    <input placeholder="Sá»‘ tiá»n">
    <input placeholder="NgÃ¢n hÃ ng / MÃ£ giao dá»‹ch">
    <button>Gá»­i</button>
  </div>
</div>

<div class="section" id="ho-so">
  <div class="card">
    <h2>Há»“ SÆ¡ CÃ¡ NhÃ¢n</h2>
    <p><strong>TÃªn:</strong> <span id="ho-ten"></span></p>
    <p><strong>Sá»‘ TK NgÃ¢n HÃ ng:</strong> <span id="stk"></span></p>
  </div>
</div>

<script>
let currentUser = null;
let admin = { user: 'anhthanh', pass: '123' };
let users = JSON.parse(localStorage.getItem('users') || '[]');

function hien(id) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

function dangNhap() {
  const u = document.getElementById('login-user').value;
  const p = document.getElementById('login-pass').value;
  if ((u === admin.user && p === admin.pass) || users.find(u2 => u2.user === u && u2.pass === p)) {
    currentUser = (u === admin.user) ? { user: u, ten: 'Admin', stk: 'N/A', admin: true } : users.find(u2 => u2.user === u);
    document.getElementById('main-nav').style.display = 'flex';
    document.getElementById('user-display').innerText = currentUser.ten;
    document.getElementById('ho-ten').innerText = currentUser.ten;
    document.getElementById('stk').innerText = currentUser.stk;
    hien('home');
    document.getElementById('welcome').style.display = 'none';
  } else {
    alert('Sai thÃ´ng tin Ä‘Äƒng nháº­p.');
  }
}

function dangKy() {
  const u = document.getElementById('dk-user').value;
  const p = document.getElementById('dk-pass').value;
  const ten = document.getElementById('dk-ten').value;
  const stk = document.getElementById('dk-bank').value;
  if (u && p && ten && stk) {
    users.push({ user: u, pass: p, ten, stk });
    localStorage.setItem('users', JSON.stringify(users));
    alert('ÄÄƒng kÃ½ thÃ nh cÃ´ng.');
  } else {
    alert('Äiá»n Ä‘áº§y Ä‘á»§ thÃ´ng tin.');
  }
}

function taoThiep() {
  const chu = document.getElementById('chu-tren').value;
  const nam = document.getElementById('ten-nam').value;
  const nu = document.getElementById('ten-nu').value;
  const khach = document.getElementById('ten-khach-moi').value;
  const mau = document.getElementById('mau-chu').value;
  const style = document.getElementById('font-style').value;
  document.getElementById('preview-thiep').innerHTML = `
    <div style="border:2px dashed #ccc; padding:20px; text-align:center; color:${mau}; font-style:${style};">
      <h2>${chu}</h2>
      <p>${nam} & â¤ï¸ ${nu}</p>
      <p>KÃ­nh má»i: <strong>${khach}</strong></p>
    </div>`;
}

function taiAnh() {
  alert('Chá»©c nÄƒng lÆ°u áº£nh sáº½ Ä‘Æ°á»£c bá»• sung báº±ng thÆ° viá»‡n html2canvas hoáº·c tÆ°Æ¡ng tá»±.');
}

let dsSP = [];
function taiAnhSanPham(evt) {
  const reader = new FileReader();
  reader.onload = () => localStorage.setItem('sp-img', reader.result);
  reader.readAsDataURL(evt.target.files[0]);
}
function themSanPham() {
  const ten = document.getElementById('ten-sp').value;
  const gia = document.getElementById('gia-sp').value;
  const img = localStorage.getItem('sp-img');
  if (ten && gia && img) {
    dsSP.push({ ten, gia, img });
    hienThiSanPham();
  }
}
function hienThiSanPham() {
  const khung = document.getElementById('danh-sach-sp');
  khung.innerHTML = '';
  dsSP.forEach((sp, i) => {
    khung.innerHTML += `
      <div class='product'>
        <img src="${sp.img}" width="100%">
        <p>${sp.ten} - ${sp.gia}Ä‘</p>
        ${currentUser.admin ? `<button onclick="xoaSP(${i})">XÃ³a</button>` : ''}
      </div>`;
  });
}
function xoaSP(i) {
  dsSP.splice(i, 1);
  hienThiSanPham();
}
</script>
</body>
</html>
